(ns ludexploit.printing-test
  (:use [ludexploit.printing])
  (:require [clojure.test :refer :all]))

(def event-data1 {:ticket_spaces 1 :reservations [{:user_email "arnaudgeiser@gmail.com" :attendees ["Arnaud Geiser"]}]})
(def event-data2 {:ticket_spaces 2 :reservations [{:user_email "arnaudgeiser@gmail.com" :attendees ["Arnaud Geiser"]}]})

(deftest test-document
  (testing "Document generation"
    (is (= [[[:pdf-cell {:height 25} "Arnaud Geiser"][:pdf-cell "arnaudgeiser@gmail.com"]]] (table-content event-data1)))
    (is (= [:pdf-table {:bounding-box [100 100]}
                [50 50]
                [[:pdf-cell {:style :bold} "Nom"] [:pdf-cell {:style :bold} "Email"]]
                [[:pdf-cell {:height 25} "Arnaud Geiser"][:pdf-cell  "arnaudgeiser@gmail.com"]]]
        (table-event event-data1)))
    (is (= [[[:pdf-cell {:height 25} "Arnaud Geiser"][:pdf-cell  "arnaudgeiser@gmail.com"]] [[:pdf-cell {:height 25} ""][:pdf-cell ""]]] (table-content event-data2)))
    ;(is (= [:pdf-table {:bounding-box [50 100]}
    ;            [10 20]
    ;            ["Email" "Nom"]
    ;            [[:pdf-cell "Arnaud Geiser"][:pdf-cell  "Arnaud Geiser"]]
    ;            [[:pdf-cell ""][:pdf-cell ""]]]
    ;    (table-event event-data2)))
  ))
