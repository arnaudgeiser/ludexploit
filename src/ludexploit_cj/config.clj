(ns ludexploit-cj.config
  "Configuration namespace that initialize as a global resource"
  (:require [clojure.edn :refer [read-string]]))

(def config
  "Get configuration from the system environment variable 'CONFIG_FILE'.
  An exemple of this file is provided in the config-sample folder"
  (let [config (System/getenv "CONFIG_FILE")]
    (delay
      (if (not (empty? config)) (read-string (slurp config))))))
