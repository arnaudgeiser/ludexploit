(ns ludexploit.email
  (:require [postal.core :as p]
            [ludexploit.config :refer [config]]))

(def from
  "info-animations@ludesco.ch")

(defn send-message [{:keys [to object content]}]
  (p/send-message (:smtp @config) {:from from}
                                  :to to
                                  :subject object
                                  :body content))

(defn send-html-message [{:keys [to object content]}]
  (p/send-message (:smtp @config) {:from from
                                   :to to
                                   :subject object
                                   :body [:alternative {:type "text/html" :content content}]}))
